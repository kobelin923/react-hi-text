!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReactHiText=t():e.ReactHiText=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var i=(n(2),{0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"}),r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},s="";for(var o in r)s+="\\\\"+r[o]+"|";for(var o in i)s+="\\\\"+i[o]+"|";var a=React.createClass({displayName:"HiText",getDefaultProps:function(){return{className:"highlight","case-sensitive":!1,hi:""}},componentDidMount:function(){this.el=this.getDOMNode(),this._html=this.el.innerHTML,this.setHighlight(this.props.hi,this.props["case-sensitive"])},setHighlight:function(e,t){if(e=e.trim()){var n=this.props.className,i=this;i.hasMatched=!1;var r=function s(r){for(var o=function x(r){if(3===r.nodeType){var o=t?r.data.indexOf(e):r.data.toLowerCase().indexOf(e.toLowerCase());if(0>o)return;var a;0===o?a=r.splitText(e.length):o>0&&(a=r.splitText(o).splitText(e.length));var c=a.previousSibling,l=document.createElement("span");l.className=n,l.textContent=c.data,a.parentNode.replaceChild(l,c),i.hasMatched=!0,x(a)}else 1!==r.nodeType||!r.childNodes||"SPAN"===r.tagName&&r.classList.contains(n)||/^(style|script)$/i.test(r.tagName)||s(r)},a=0;a<r.childNodes.length;++a)o(r.childNodes[a])};return r(this.el),this}},_flatten:function(e){for(var t=this,n=0,i=e.childNodes,r=i.length;r>n;n++){var s=i[n];if(1==s.nodeType)t._flatten(s);else if(3===s.nodeType){var o=s.nextSibling;if(o&&3===o.nodeType){var a=s.data+o.data,x=e.ownerDocument.createTextNode(a);e.insertBefore(x,s),e.removeChild(s),e.removeChild(o),n--,r--}}}},clean:function(){var e=this.el.querySelectorAll("."+this.props.className);return Array.prototype.forEach.call(e,function(e){e.parentNode.replaceChild(e.firstChild,e)}),this._flatten(this.el),this},componentDidUpdate:function(){this.setHighlight(this.props.hi,this.props["case-sensitive"])},render:function(){return React.createElement("span",null,this.props.children)}});e.exports=a},function(e,t,n){"use strict";function i(e){return e=r(e),e&&a.test(e)?e.replace(o,s):e||"(?:)"}var r=n(3),s=n(4),o=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,a=RegExp(o.source);e.exports=i},function(e,t){"use strict";function n(e){return null==e?"":e+""}e.exports=n},function(e,t){"use strict";function n(e,t,n){return t?e=i[e]:n&&(e=r[e]),"\\"+e}var i={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=n}])});